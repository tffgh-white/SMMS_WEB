# iStock æ™ºèƒ½è‚¡ç¥¨ç®¡ç†ç³»ç»Ÿ

åŸºäºVue3 + Node.js + MySQLçš„ç°ä»£åŒ–è‚¡ç¥¨æ•°æ®ç®¡ç†å¹³å°

## ğŸ“– é¡¹ç›®ç®€ä»‹

iStockæ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„è‚¡ç¥¨æ•°æ®ç®¡ç†ç³»ç»Ÿï¼Œé›†æˆäº†å®æ—¶è‚¡ç¥¨æ•°æ®å±•ç¤ºã€æ”¶è—ç®¡ç†ã€ä¸ªäººè´¦æˆ·ç®¡ç†ç­‰åŠŸèƒ½ã€‚ç³»ç»Ÿé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œé€šè¿‡è°ƒç”¨éº¦è•Šæ™ºæ•°æä¾›çš„ä¸“ä¸šè‚¡ç¥¨APIï¼Œä¸ºç”¨æˆ·æä¾›å‡†ç¡®ã€åŠæ—¶çš„è‚¡ç¥¨ä¿¡æ¯æœåŠ¡ã€‚

## âœ¨ ä¸»è¦åŠŸèƒ½

- ğŸ“ˆ **å®æ—¶æ•°æ®å±•ç¤º** - æä¾›æ²ªæ·±ä¸¤å¸‚è‚¡ç¥¨å®æ—¶äº¤æ˜“æ•°æ®
- â­ **æ”¶è—ç®¡ç†** - æ”¯æŒè‚¡ç¥¨æ”¶è—ä¸å–æ¶ˆæ”¶è—åŠŸèƒ½
- ğŸ‘¤ **ç”¨æˆ·ç³»ç»Ÿ** - å®Œæ•´çš„ç”¨æˆ·æ³¨å†Œç™»å½•ä¸è´¦æˆ·ç®¡ç†
- ğŸ“Š **æ•°æ®å¯è§†åŒ–** - ç›´è§‚çš„å›¾è¡¨å±•ç¤ºè‚¡ç¥¨èµ°åŠ¿
- ğŸ” **å®‰å…¨è®¤è¯** - JWT tokenè®¤è¯æœºåˆ¶

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯
- **Vue 3.5.25** - é‡‡ç”¨Composition APIè¿›è¡Œç»„ä»¶å¼€å‘
- **Vue Router 4.6.3** - å®ç°å•é¡µé¢åº”ç”¨è·¯ç”±ç®¡ç†
- **Pinia 3.0.4** - ç°ä»£åŒ–çŠ¶æ€ç®¡ç†è§£å†³æ–¹æ¡ˆ
- **TypeScript** - æä¾›ç±»å‹å®‰å…¨å’Œæ›´å¥½çš„å¼€å‘ä½“éªŒ
- **ECharts 6.0** - æ•°æ®å¯è§†åŒ–å›¾è¡¨å±•ç¤º
- **Vite 7.2.4** - ç°ä»£åŒ–æ„å»ºå·¥å…·
- **CSS3 + Flexbox/Grid** - å“åº”å¼å¸ƒå±€è®¾è®¡

### åç«¯æŠ€æœ¯
- **Node.js** - æœåŠ¡ç«¯JavaScriptè¿è¡Œç¯å¢ƒ
- **Express.js** - Webåº”ç”¨æ¡†æ¶
- **MySQL** - æ•°æ®æŒä¹…åŒ–å­˜å‚¨
- **JWTè®¤è¯** - ç”¨æˆ·èº«ä»½éªŒè¯ä¸æˆæƒ
- **Bcrypt** - å¯†ç åŠ å¯†å­˜å‚¨
- **RESTful API** - æ ‡å‡†åŒ–APIæ¥å£è®¾è®¡

### æ•°æ®æ¥æº
- **éº¦è•Šæ™ºæ•°API** - ä¸“ä¸šè‚¡ç¥¨æ•°æ®æœåŠ¡æä¾›å•†

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js ^20.19.0 || >=22.12.0
- MySQL 5.7+ æˆ– 8.0+
- npm æˆ– yarn

### å‰ç«¯å¯åŠ¨
```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd SMMS_WEB

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬
npm run preview
```

### åç«¯å¯åŠ¨

#### ä½¿ç”¨Node.jsè¿è¡Œï¼ˆæ¨èï¼‰
```bash
# è¿›å…¥åç«¯ç›®å½•
cd server

# å®‰è£…ä¾èµ–
npm install

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯

# å¯åŠ¨æœåŠ¡å™¨
npm start
```

#### ä½¿ç”¨å¯æ‰§è¡Œæ–‡ä»¶
```bash
# ç¼–è¯‘ä¸ºLinuxå¯æ‰§è¡Œæ–‡ä»¶
cd server
npm run build-linux

# ä¸Šä¼ åˆ°æœåŠ¡å™¨å¹¶è¿è¡Œ
chmod +x server2.0-linux
./server2.0-linux
```

### æ•°æ®åº“é…ç½®
åœ¨ `server/.env` æ–‡ä»¶ä¸­é…ç½®æ•°æ®åº“è¿æ¥ï¼š
```env
# æ•°æ®åº“é…ç½®
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_mysql_password
DB_NAME=stock_app

# JWTé…ç½®
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# æœåŠ¡å™¨é…ç½®
PORT=3001
NODE_ENV=development
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
SMMS_WEB/
â”œâ”€â”€ public/                 # é™æ€èµ„æº
â”œâ”€â”€ src/                    # å‰ç«¯æºç 
â”‚   â”œâ”€â”€ components/         # Vueç»„ä»¶
â”‚   â”œâ”€â”€ views/             # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ stores/            # PiniaçŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ router/            # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ api/               # APIæ¥å£
â”‚   â””â”€â”€ main.ts            # å…¥å£æ–‡ä»¶
â”œâ”€â”€ server/                 # åç«¯æºç 
â”‚   â”œâ”€â”€ server2.0.js       # ä¸»æœåŠ¡å™¨æ–‡ä»¶
â”‚   â”œâ”€â”€ package.json       # åç«¯ä¾èµ–
â”‚   â””â”€â”€ .env              # ç¯å¢ƒé…ç½®
â”œâ”€â”€ docs/                  # æ–‡æ¡£
â””â”€â”€ README.md             # é¡¹ç›®è¯´æ˜
```

## ğŸŒ å¤–éƒ¨APIé›†æˆ

æœ¬é¡¹ç›®é›†æˆäº†éº¦è•Šæ™ºæ•°ä¼ä¸šæä¾›çš„ä¸“ä¸šè‚¡ç¥¨æ•°æ®APIæœåŠ¡ï¼š

### 1. æ²ªæ·±ä¸¤å¸‚è‚¡ç¥¨åˆ—è¡¨
```
GET http://api.mairuiapi.com/hslt/list/LICENCE-66D8-9F96-0C7F0FBCD073
```

### 2. å®æ—¶äº¤æ˜“æ•°æ®
```
GET https://api.mairuiapi.com/hsstock/real/time/{è‚¡ç¥¨ä»£ç }/LICENCE-66D8-9F96-0C7F0FBCD073
```

### 3. å†å²åˆ†æ—¶äº¤æ˜“æ•°æ®
```
GET https://api.mairuiapi.com/hsstock/history/{è‚¡ç¥¨ä»£ç }.{å¸‚åœº}/{åˆ†æ—¶çº§åˆ«}/{é™¤æƒæ–¹å¼}/LICENCE-66D8-9F96-0C7F0FBCD073?st={å¼€å§‹æ—¶é—´}&et={ç»“æŸæ—¶é—´}&lt={æœ€æ–°æ¡æ•°}
```

## ğŸ”Œ æ ¸å¿ƒAPIç«¯ç‚¹

| æ–¹æ³• | ç«¯ç‚¹ | æè¿° |
|------|------|------|
| POST | `/api/auth/register` | ç”¨æˆ·æ³¨å†Œ |
| POST | `/api/auth/login` | ç”¨æˆ·ç™»å½• |
| GET | `/api/favorites` | è·å–æ”¶è—åˆ—è¡¨ |
| POST | `/api/favorites` | æ·»åŠ æ”¶è— |
| DELETE | `/api/favorites/:stockCode` | å–æ¶ˆæ”¶è— |

## ğŸ‘¥ å‚ä¸æˆå‘˜

- æ—ä½³ç¿
- é‚¹æ–°æ‹›
- ä½™èˆªäº®
- åˆ˜å˜‰å
- éƒ­æ¥šè‹¥
- æœ±æŸ³æ—­

## ğŸ“± é¡¹ç›®ç‰¹è‰²

- ğŸš€ **ç°ä»£åŒ–æŠ€æœ¯æ ˆ** - é‡‡ç”¨Vue3 + TypeScript + Node.jsç­‰æœ€æ–°æŠ€æœ¯
- ğŸ¯ **ç”¨æˆ·ä½“éªŒä¼˜å…ˆ** - å“åº”å¼è®¾è®¡ã€æµç•…åŠ¨ç”»ã€å®æ—¶æ•°æ®æ›´æ–°
- ğŸ”’ **å®‰å…¨å¯é ** - JWTèº«ä»½è®¤è¯ã€å¯†ç åŠ å¯†ã€è¾“å…¥éªŒè¯
- ğŸ“Š **ä¸“ä¸šæ•°æ®æº** - é›†æˆéº¦è•Šæ™ºæ•°ä¸“ä¸šAPIï¼Œæä¾›å‡†ç¡®çš„è‚¡ç¥¨å¸‚åœºæ•°æ®
- âš¡ **é«˜æ€§èƒ½æ¶æ„** - å‰åç«¯åˆ†ç¦»ã€å¼‚æ­¥æ•°æ®å¤„ç†ã€ç»„ä»¶åŒ–è®¾è®¡
- ğŸ› ï¸ **å¯ç»´æŠ¤æ€§** - æ¸…æ™°çš„ä»£ç ç»“æ„ã€å®Œå–„çš„æ³¨é‡Šã€æ ‡å‡†åŒ–çš„å¼€å‘æµç¨‹

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ
```bash
# ä»£ç æ£€æŸ¥
npm run lint

# ä»£ç æ ¼å¼åŒ–
npm run format

# ç±»å‹æ£€æŸ¥
npm run type-check
```

### æµ‹è¯•
```bash
# å•å…ƒæµ‹è¯•
npm run test:unit

# ç«¯åˆ°ç«¯æµ‹è¯•
npm run test:e2e
```

## ğŸ“ æ›´æ–°æ—¥å¿—

### v2.0.0
- âœ¨ æ–°å¢MySQLæ•°æ®åº“æ”¯æŒ
- ğŸ”§ ä¼˜åŒ–æ•°æ®å­˜å‚¨ç»“æ„
- ğŸ› ä¿®å¤ç”¨æˆ·è®¤è¯é—®é¢˜
- ğŸ“Š æ”¹è¿›æ•°æ®å¯è§†åŒ–åŠŸèƒ½

## ğŸš€ éƒ¨ç½²

### å‰ç«¯éƒ¨ç½²
```bash
npm run build
# å°† dist ç›®å½•éƒ¨ç½²åˆ°é™æ€æœåŠ¡å™¨
```

### åç«¯éƒ¨ç½²
```bash
# æ–¹å¼1: ä½¿ç”¨Node.js
cd server && npm start

# æ–¹å¼2: ä½¿ç”¨å¯æ‰§è¡Œæ–‡ä»¶
./server2.0-linux

# æ–¹å¼3: ä½¿ç”¨PM2
pm2 start server2.0.js --name "istock-server"
```

